#version 100

uniform sampler2D texSampler;

varying mediump vec4 oFogColor;
varying mediump vec4 color;
varying mediump vec2 texCoord;

void main(void)
{
    mediump vec4 textureColor = texture2D(texSampler, texCoord);
	
    if(textureColor.w < 0.2 )
    {
        discard;
    }

	mediump vec4 finalColor = textureColor * color;
	gl_FragColor = vec4(mix(oFogColor.rgb, finalColor.rgb, oFogColor.a), finalColor.a);
}

